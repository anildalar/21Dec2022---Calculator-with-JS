<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>JS Calculator</title>
        <style>
            div.myCalculator{
                width: 400px;
                height: 400px;
                background:#333;
                margin: 50px auto;
                border-radius: 20px;
            }
            div.myResult{
                width: 90%;
                height: 60px;
                line-height: 60px;

                margin: 50px auto;
                background:#ccc;
                border-radius: 10px;
                position: relative;
                top:20px;
                padding-right:20px;
                text-align: right;
            }
            table.mytable{
                width: 100% ;
                height: 290px;
                text-align: center;
            }
            table button{
                padding:20px;
                font-weight: bolder;
            }
        </style>
    </head>
    <body>
        <div class="myCalculator">
            <div class="myResult"></div>
            <table class="mytable">
                <tr>
                    <td>
                        <button onclick="anil(this)">7</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">8</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">9</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">X</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button onclick="anil(this)">4</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">5</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">6</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">/</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button onclick="anil(this)">1</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">2</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">3</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">-</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button onclick="anil(this)">0</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">.</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">=</button>
                    </td>
                    <td>
                        <button onclick="anil(this)">+</button>
                    </td>
                </tr>
            </table>
        </div>

        <script>
            var isOperatorButtonClicked = false; // false
            //I can write the js code before the closing of body tag


            //Global Variable
            //object.method();
            let r = document.querySelector("div.myResult");
            var leftValue;
            var rightValue;
            var operator='';

            

            //1. Function defination
            function anil(elem){ // elem is a formal arguemnt
                console.log(elem);
                
                r.innerHTML = r.innerHTML + elem.innerHTML;
                switch(elem.innerHTML) {
                    case 'X':
                        isOperatorButtonClicked = true;
                        // code block
                        operator='X';
                        leftValue =  r.innerHTML;

                        window.localStorage.setItem('leftValue',leftValue);
                        window.localStorage.setItem('operator','X');
                        console.log('LeftValue is ',leftValue);
                        console.log('RightValue is ',rightValue);
                        break;
                    case '/':
                        isOperatorButtonClicked = true;
                        // code block
                        console.log('Division operation');
                        break;
                    case '-':
                        isOperatorButtonClicked = true;
                         // code block
                        console.log('Substration operation');
                        break;
                    case '+':
                        isOperatorButtonClicked = true;
                        // code block
                        console.log('Addition operation');
                        break;
                    case '=':
                        // code block
                        isOperatorButtonClicked = false;
                        
                        leftValue = window.localStorage.getItem('leftValue');
                        rightValue = window.localStorage.getItem('rightValue');
                        operator = window.localStorage.getItem('operator');

                        switch(operator){
                            case "X":
                                leftValue = parseFloat(leftValue); // String into number
                                rightValue = parseFloat(rightValue); // String into number
                                console.log(leftValue*rightValue);
                                r.innerHTML = leftValue*rightValue;
                                //r.innerHTML = r.innerHTML.substring(0, r.innerHTML.length-1);
                                //console.log(r.innerHTML);
                            break;

                            default:
                        }
                       

                      break;
                    default:
                      // code block
                }
                if(isOperatorButtonClicked === true){
                    rightValue = elem.innerHTML;
                    rightValue = window.localStorage.setItem('rightValue',rightValue)
                    console.log('Right value ',elem.innerHTML);
                }
                
            }//Function close
        </script>
    </body>
</html>